<!DOCTYPE html>
<html>
<style>
#container {
  width: 600px;
  height: 400px;
  position: absolute;
  background: green;
}
.disco {
  width: 50px;
  height: 10px;
   position: relative;
  display: none;
   border-radius:20px;

  background-color: red;
}

/* .display: none{
}
.visibility: hidden{
} */




.pino1{
  position:absolute;
  width: 1%;
  height: 30%;
  border-radius:20px;
  left: 13.3%;
  margin-top:6%;

  display:None;


  


  background-color: black;
}
.pino2{
  position:absolute;
  width: 1%;
  height: 30%;
  border-radius:20px;
  left: 46.6%;
  margin-top:6%;

display:None;
  


  background-color: black;
}
.pino3{
  position:absolute;
  width: 1%;
  height: 30%;
  border-radius:20px;
  left: 79.9%;
  margin-top:6%;

display:None;
  


  background-color: black;
}
#chao{
  width: 100%;
  height: 3%;
  border-radius:20px;
  left: 0px;
  margin-top:10%;
  
  display: none;
  


  background-color: pink;
}

</style>
<body>
  	<form style="position: absolute; background-color:white;">

		<label for="">Discos:</label>
		<input type="number" onchange="input()" id="discos">
		<label for="">Submit</label>
	</form>

 
<br><br>
<div id ="container">
  <div class="pino1" id="p1"></div>
  <div class="pino2" id="p2"></div>
  <div class="pino3" id="p3"></div>
  <div class="disco" id ="a1"></div>
  <div class="disco" id ="a2"></div>
  <div class="disco" id ="a3"></div>
  <div class="disco" id ="a4"></div>
  <div class="disco" id ="a5"></div>
  <div class="disco" id ="a6"></div>
  <div class="disco" id ="a7"></div>
  <div class="disco" id ="a8"></div>
  <div class="disco" id ="a9"></div>
  <div class="disco" id ="a10"></div>
  <div class="disco" id ="a11"></div>
  <div class="disco" id ="a12"></div>
  <div class="disco" id ="a13"></div>
  <div class="disco" id ="a14"></div>
  <div class="disco" id ="a15"></div>
  <div class="disco" id ="a16"></div>
  <div class="disco" id ="a17"></div>
  <div class="disco" id ="a18"></div>
  <div class="disco" id ="a19"></div>





  
 <!-- <div id = "teste"></div> -->
  <div id="chao"></div>

</div>
<script>


  var left = 0;
	var number = 0;
	var time = 10;
	function input() {
		var number = document.getElementById("discos").value;
		var discos = [];

myMove(number);
	  
    var p1 = document.getElementById("p1"); 
      p1.style.display="block";
      p1.style.left = number+"%";
      p1.style.height = (number*3)+"%";

    var p2 = document.getElementById("p2"); 
      p2.style.left = (number+0.001)+"%";
      p2.style.display="block";
      p2.style.height = (number*3)+"%";


    var p3 = document.getElementById("p3"); 
      p3.style.display="block";
      p3.style.left = number+"%";
      p3.style.height = (number*3)+"%";

for (var i = 0;i+1<number;i++){
 myMove2(number-i);
}

     
}


var pass =1;

function myMove(number) {
   
   if (pass == 1){
     var size = number*12;
pass = 0;
   }
  

  var elem1 = document.getElementById("a"+number);   


  var test1 = document.getElementById("chao"); 

  var pos = 1;
  elem1.style.display="block";
  test1.style.display="block";
  
  //elem.style.top = Math.floor(Math.random() * 10);
 // elem.style.left = 0;

   elem1.style.width = size+"px";
  size = size - 10; 
  var id = setInterval(frame1, 8);

  
  function frame1() {


  
      pos++; 
   
      var ta = 1;
  
      if (checkCollision(elem1, test1)) {
      
       
        pos=0;
        ta = 0;
      
  
        
      } 
      if (ta == 1){
        elem1.style.top = pos + "px";
        

      }
      
  //    elem.style.left = pos + "px"; 

    
  }
}

var pass1 =1;
function myMove2(x) {


       
     var size = (x*11);

  	

  var elem = document.getElementById("a"+(x-1));   
  


  var test = document.getElementById("a"+x); 



 

  var pos2 = 1;
  elem.style.display="block";



  
elem.style.backgroundColor = "blue";

  //elem.style.top = Math.floor(Math.random() * 10);
  elem.style.top = 0;
  left = left+5.5;
   elem.style.left = left+"px";

   elem.style.width = size+"px";
 // size = size - 10; 
   time= time+1;
   var id = setInterval(frame, time);
  
  function frame() {
  
      pos2++; 
   
      var ta1 = 1;
  
    if (checkCollision(elem, test)) {
      
       
        pos2=0;
        ta1 = 0;
      
//        if(x>2){
//  myMove2(x-1);
//        }
      
     } 
      if (ta1 == 1){
        elem.style.top = pos2 + "px";
        

      }
      


    
  } 
}



function checkCollision(elm1, elm2) {
  var elm1Rect = elm1.getBoundingClientRect();
  var elm2Rect = elm2.getBoundingClientRect();

  return (elm1Rect.right >= elm2Rect.left &&
      elm1Rect.left <= elm2Rect.right) &&
    (elm1Rect.bottom >= elm2Rect.top &&
      elm1Rect.top <= elm2Rect.bottom);
}


</script>

</body>
</html>


